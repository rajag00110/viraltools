<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Image to Text - Viral Tools</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #012c89 0%, #00194d 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 1000px;
    }

    header {
      text-align: center;
      padding: 20px 0;
      margin-bottom: 30px;
      width: 100%;
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      margin-bottom: 15px;
    }

    .logo i {
      font-size: 2.5rem;
      margin-right: 15px;
    }

    .logo h1 {
      font-size: 2.5rem;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    header p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.2rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .tool-container {
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      margin-bottom: 30px;
    }

    .tool-header {
      background: linear-gradient(90deg, #012c89, #0043ca);
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.5rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .tool-content {
      padding: 30px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }

    @media (max-width: 900px) {
      .tool-content {
        grid-template-columns: 1fr;
      }
    }

    .upload-section {
      border-right: 2px dashed #e0e0e0;
      padding-right: 30px;
    }

    @media (max-width: 900px) {
      .upload-section {
        border-right: none;
        border-bottom: 2px dashed #e0e0e0;
        padding-right: 0;
        padding-bottom: 30px;
      }
    }

    .upload-area {
      border: 3px dashed #012c89;
      border-radius: 12px;
      padding: 40px 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      background-color: #f0f5ff;
      margin-bottom: 25px;
      position: relative;
    }

    .upload-area:hover {
      background-color: #e0ebff;
      border-color: #0043ca;
    }

    .upload-area i {
      font-size: 3rem;
      color: #012c89;
      margin-bottom: 15px;
    }

    .upload-area h3 {
      color: #012c89;
      margin-bottom: 10px;
    }

    .upload-area p {
      color: #666;
    }

    #imageInput {
      display: none;
    }

    .uploaded-image {
      max-width: 100%;
      max-height: 300px;
      border-radius: 8px;
      margin-top: 15px;
      display: none;
    }

    .options {
      margin-bottom: 25px;
    }

    .option-group {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      align-items: center;
    }

    .option-group label {
      font-weight: 600;
      color: #012c89;
      min-width: 120px;
    }

    select {
      padding: 12px 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      flex: 1;
      transition: border-color 0.3s;
      background: white;
      color: #333;
    }

    select:focus {
      border-color: #012c89;
      outline: none;
    }

    .action-buttons {
      display: flex;
      gap: 15px;
    }

    button {
      padding: 14px 25px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .btn-primary {
      background-color: #012c89;
      color: white;
    }

    .btn-primary:hover {
      background-color: #0043ca;
    }

    .btn-secondary {
      background-color: #f1f8ff;
      color: #012c89;
      border: 2px solid #012c89;
    }

    .btn-secondary:hover {
      background-color: #e6f2ff;
    }

    .output-section h3 {
      color: #012c89;
      margin-bottom: 20px;
      text-align: center;
    }

    .output-container {
      width: 100%;
      height: 300px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 25px;
      background-color: #f9f9f9;
      position: relative;
    }

    #output {
      padding: 15px;
      width: 100%;
      height: 100%;
      border: none;
      resize: none;
      font-size: 1rem;
      line-height: 1.5;
      color: #333;
      background: transparent;
    }

    .output-info {
      background-color: #f0f5ff;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 25px;
    }

    .output-info p {
      margin-bottom: 8px;
      color: #012c89;
      display: flex;
      justify-content: space-between;
    }

    .output-info span {
      font-weight: 600;
      color: #0043ca;
    }

    .download-btn {
      background: linear-gradient(90deg, #28a745, #20c997);
      color: white;
      padding: 16px;
      text-decoration: none;
      text-align: center;
      display: block;
      border-radius: 8px;
    }

    .download-btn:hover {
      background: linear-gradient(90deg, #218838, #199a74);
    }

    .placeholder-text {
      color: #999;
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
    }

    footer {
      text-align: center;
      color: white;
      padding: 20px;
      margin-top: 40px;
      font-size: 0.9rem;
      width: 100%;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      background-color: #28a745;
      color: white;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transform: translateX(100%);
      transition: transform 0.3s;
      z-index: 1000;
    }

    .notification.show {
      transform: translateX(0);
    }

    .progress-bar {
      height: 5px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 15px;
      display: none;
    }

    .progress {
      height: 100%;
      background: linear-gradient(90deg, #012c89, #0043ca);
      width: 0%;
      transition: width 0.3s;
    }

    .language-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .language-btn {
      padding: 8px 12px;
      background: #f0f5ff;
      border: 1px solid #012c89;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.9rem;
    }

    .language-btn:hover {
      background: #d4e8ff;
    }

    .language-btn.active {
      background: #012c89;
      color: white;
    }

    .tooltip {
      position: relative;
      display: inline-block;
      margin-left: 5px;
    }

    .tooltip i {
      color: #012c89;
      font-size: 16px;
    }

    .tooltip-text {
      visibility: hidden;
      width: 200px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-weight: normal;
    }

    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    .note {
      background-color: #fff8e6;
      border-left: 4px solid #ffc107;
      padding: 10px 15px;
      margin-top: 15px;
      border-radius: 4px;
      font-size: 0.9rem;
      color: #012c89;
    }

    .processing-status {
      text-align: center;
      padding: 10px;
      color: #012c89;
      font-weight: 500;
      display: none;
    }

    .urdu-text {
      direction: rtl;
      font-family: 'Segoe UI', 'Noto Sans Arabic', sans-serif;
      text-align: right;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-tools"></i>
        <h1>Viral Tools</h1>
      </div>
      <p>Extract text from images with our advanced OCR tool</p>
    </header>

    <div class="tool-container">
      <div class="tool-header">
        <i class="fas fa-image"></i> Advanced Image to Text
      </div>
      <div class="tool-content">
        <div class="upload-section">
          <div class="upload-area" id="upload-area">
            <i class="fas fa-cloud-upload-alt"></i>
            <h3>Upload Your Image</h3>
            <p>Click or drag & drop to upload</p>
            <input type="file" id="imageInput" accept="image/*">
            <img id="uploadedImage" class="uploaded-image" alt="Uploaded image">
          </div>

          <div class="options">
            <h3>Recognition Options</h3>
            
            <div class="option-group">
              <label for="language">Language:</label>
              <select id="language">
                <option value="eng">English</option>
                <option value="urd">Urdu</option>
                <option value="spa">Spanish</option>
                <option value="fre">French</option>
                <option value="ger">German</option>
                <option value="por">Portuguese</option>
                <option value="ita">Italian</option>
                <option value="rus">Russian</option>
                <option value="chi_sim">Chinese</option>
                <option value="jpn">Japanese</option>
                <option value="kor">Korean</option>
              </select>
            </div>

            <div class="note">
              <i class="fas fa-lightbulb"></i> For better results, upload clear images with good lighting and contrast.
            </div>

            <div class="progress-bar" id="progress-bar">
              <div class="progress" id="progress"></div>
            </div>

            <div class="processing-status" id="processing-status">
              <i class="fas fa-cog fa-spin"></i> Analyzing image content...
            </div>
          </div>

          <div class="action-buttons">
            <button class="btn-primary" id="extract-btn">
              <i class="fas fa-search"></i> Extract Text
            </button>
            <button class="btn-secondary" id="reset-btn">
              <i class="fas fa-redo"></i> Reset
            </button>
          </div>
        </div>

        <div class="output-section">
          <h3>Extracted Text</h3>
          <div class="output-container">
            <div id="output-placeholder" class="placeholder-text">Extracted text will appear here</div>
            <textarea id="output" readonly></textarea>
          </div>

          <div class="output-info">
            <p>Characters extracted: <span id="char-count">0</span></p>
            <p>Words extracted: <span id="word-count">0</span></p>
            <p>Recognition confidence: <span id="confidence">-</span></p>
          </div>

          <div class="action-buttons">
            <button class="btn-primary" id="copy-btn">
              <i class="fas fa-copy"></i> Copy Text
            </button>
            <a href="#" class="download-btn" id="download-btn">
              <i class="fas fa-download"></i> Download Text
            </a>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p>&copy; 2023 Viral Tools. All rights reserved.</p>
      <p>Created with ❤️ by Viral</p>
    </footer>
  </div>

  <div class="notification" id="notification">Text extracted successfully!</div>

  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@2.1.4/dist/tesseract.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get DOM elements
      const imageInput = document.getElementById('imageInput');
      const uploadArea = document.getElementById('upload-area');
      const uploadedImage = document.getElementById('uploadedImage');
      const output = document.getElementById('output');
      const outputPlaceholder = document.getElementById('output-placeholder');
      const extractBtn = document.getElementById('extract-btn');
      const resetBtn = document.getElementById('reset-btn');
      const copyBtn = document.getElementById('copy-btn');
      const downloadBtn = document.getElementById('download-btn');
      const progressBar = document.getElementById('progress-bar');
      const progress = document.getElementById('progress');
      const processingStatus = document.getElementById('processing-status');
      const charCount = document.getElementById('char-count');
      const wordCount = document.getElementById('word-count');
      const confidence = document.getElementById('confidence');
      const notification = document.getElementById('notification');
      const languageSelect = document.getElementById('language');
      
      // Variables
      let currentJob = null;
      let currentLanguage = 'eng';
      
      // Upload area click handler
      uploadArea.addEventListener('click', () => {
        imageInput.click();
      });
      
      // Drag and drop functionality
      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.style.backgroundColor = '#e0ebff';
        uploadArea.style.borderColor = '#0043ca';
      });
      
      uploadArea.addEventListener('dragleave', () => {
        uploadArea.style.backgroundColor = '#f0f5ff';
        uploadArea.style.borderColor = '#012c89';
      });
      
      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.style.backgroundColor = '#f0f5ff';
        uploadArea.style.borderColor = '#012c89';
        
        if (e.dataTransfer.files.length) {
          handleImageUpload(e.dataTransfer.files[0]);
        }
      });
      
      // File input change handler
      imageInput.addEventListener('change', () => {
        if (imageInput.files.length) {
          handleImageUpload(imageInput.files[0]);
        }
      });
      
      // Language change handler
      languageSelect.addEventListener('change', () => {
        currentLanguage = languageSelect.value;
      });
      
      // Extract button handler
      extractBtn.addEventListener('click', extractText);
      
      // Reset button handler
      resetBtn.addEventListener('click', resetTool);
      
      // Copy button handler
      copyBtn.addEventListener('click', copyText);
      
      // Handle image upload
      function handleImageUpload(file) {
        if (!file.type.match('image.*')) {
          showNotification('Please upload an image file', false);
          return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
          uploadedImage.src = e.target.result;
          uploadedImage.style.display = 'block';
        };
        reader.readAsDataURL(file);
      }
      
      // Extract text from image
      function extractText() {
        if (!uploadedImage.src || uploadedImage.src === window.location.href) {
          showNotification('Please upload an image first', false);
          return;
        }
        
        // Show progress bar and status
        progressBar.style.display = 'block';
        processingStatus.style.display = 'block';
        progress.style.width = '0%';
        
        // Disable buttons during processing
        extractBtn.disabled = true;
        resetBtn.disabled = true;
        
        // Start OCR process
        currentJob = Tesseract.recognize(
          uploadedImage.src,
          currentLanguage,
          {
            logger: message => {
              if (message.status === 'recognizing text') {
                progress.style.width = `${message.progress * 100}%`;
                
                if (message.progress === 1) {
                  processingStatus.innerHTML = '<i class="fas fa-cog fa-spin"></i> Finalizing text extraction...';
                }
              }
            }
          }
        ).then(result => {
          // Display extracted text
          let extractedText = result.data.text;
          
          // Apply RTL direction for Urdu text
          if (currentLanguage === 'urd') {
            output.classList.add('urdu-text');
          } else {
            output.classList.remove('urdu-text');
          }
          
          output.value = extractedText;
          outputPlaceholder.style.display = 'none';
          
          // Update stats
          charCount.textContent = extractedText.length;
          wordCount.textContent = extractedText.trim() ? extractedText.trim().split(/\s+/).length : 0;
          confidence.textContent = `${result.data.confidence.toFixed(2)}%`;
          
          // Enable download
          downloadBtn.href = URL.createObjectURL(new Blob([extractedText], { type: 'text/plain' }));
          downloadBtn.download = 'extracted-text.txt';
          
          // Show notification only when needed
          if (extractedText.length > 0) {
            showNotification('Text extracted successfully!');
          } else {
            showNotification('No text could be detected in the image', false);
          }
        }).catch(err => {
          console.error(err);
          showNotification('Error extracting text. Please try again with a clearer image.', false);
        }).finally(() => {
          // Hide progress bar and status, enable buttons
          progressBar.style.display = 'none';
          processingStatus.style.display = 'none';
          extractBtn.disabled = false;
          resetBtn.disabled = false;
          processingStatus.innerHTML = '<i class="fas fa-cog fa-spin"></i> Analyzing image content...';
        });
      }
      
      // Copy text to clipboard
      function copyText() {
        if (!output.value) {
          showNotification('No text to copy', false);
          return;
        }
        
        navigator.clipboard.writeText(output.value).then(() => {
          showNotification('Text copied to clipboard!');
        }).catch(err => {
          console.error(err);
          showNotification('Failed to copy text', false);
        });
      }
      
      // Reset tool
      function resetTool() {
        if (currentJob) {
          Tesseract.terminate(currentJob.jobId);
          currentJob = null;
        }
        
        imageInput.value = '';
        uploadedImage.src = '';
        uploadedImage.style.display = 'none';
        output.value = '';
        outputPlaceholder.style.display = 'block';
        progressBar.style.display = 'none';
        processingStatus.style.display = 'none';
        charCount.textContent = '0';
        wordCount.textContent = '0';
        confidence.textContent = '-';
        downloadBtn.href = '#';
        output.classList.remove('urdu-text');
        
        // Reset language to English
        languageSelect.value = 'eng';
        currentLanguage = 'eng';
      }
      
      // Show notification only when needed
      function showNotification(message, isSuccess = true) {
        notification.textContent = message;
        notification.style.backgroundColor = isSuccess ? '#28a745' : '#dc3545';
        notification.classList.add('show');
        
        setTimeout(() => {
          notification.classList.remove('show');
        }, 3000);
      }
    });
  </script>
</body>
</html>
